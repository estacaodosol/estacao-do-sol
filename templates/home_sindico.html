{% extends "base.html" %}

{% block title %}Dashboard do S√≠ndico{% endblock %}

{% block content %}
<div class="container mt-5">

  <h2 class="mb-4 text-center">Bem-vindo, S√≠ndico!</h2>

  <!-- üîî Mensagens Flash -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <!-- Bot√µes -->
  <div class="mb-4">
    <a href="{{ url_for('gerenciar_sindico') }}" class="btn btn-primary me-2">Gerenciar S√≠ndico</a>
    <a href="{{ url_for('logout') }}" class="btn btn-outline-danger">Sair</a>
  </div>

  <!-- Tabela de Pedidos -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Data</th>
          <th>Usu√°rio</th>
          <th>Nome</th>
          <th>Servi√ßo</th>
          <th>Descri√ß√£o</th>
          <th>Status</th>
          <th>Observa√ß√£o</th>
        </tr>
      </thead>
      <tbody>
        {% for pedido in pedidos %}
          <tr>
            <td>{{ pedido.id }}</td>
            <td>{{ pedido.data }}</td>
            <td>{{ pedido.usuario }}</td>
            <td>{{ pedido.nome }}</td>
            <td>{{ pedido.servico }}</td>
            <td>{{ pedido.descricao }}</td>
            <td>{{ pedido.status }}</td>
            <td>{{ pedido.observacao or "" }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}
